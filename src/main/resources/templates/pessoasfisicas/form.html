<!DOCTYPE html>

<html th:replace="~{fragments/layout :: layout(~{::head},~{::main})}">

<head th:replace="fragments/head :: head(~{})"></head>

<body>
  <main class="container">
    <h1>Cadastro de Pessoa Física</h1>
    <form method="post" th:action="@{/pessoasfisicas/save}" th:object="${pessoaFisica}">
      <fieldset>
        <div class="row g-3">
          <div class="col-md-6">
            <label for="nome">Nome</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('nome')}"
                    th:errors="*{nome}">
            </label>
            <input
                    type="text"
                    id="nome"
                    class="form-control"
                    th:field="*{nome}"
                    th:errorclass="is-invalid"
                    required
                    placeholder="Digite seu nome completo">
          </div>
          <div class="col-md-6">
            <label for="cpf">CPF</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('cpf')}"
                    th:errors="*{cpf}">
            </label>
            <input
                    type="text"
                    id="cpf"
                    class="form-control"
                    th:field="*{cpf}"
                    th:errorclass="is-invalid"
                    required
                    placeholder="Digite seu CPF">
          </div>
        </div>
        <div class="row g-3">
          <div class="col-md-6">
            <label for="email">E-mail</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('email')}"
                    th:errors="*{email}">
            </label>
            <input
                    type="email"
                    id="email"
                    class="form-control"
                    th:field="*{email}"
                    th:errorclass="is-invalid"
                    required
                    placeholder="Digite seu melhor e-mail">
          </div>
          <div class="col-md-6">
            <label for="telefone">Telefone</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('telefone')}"
                    th:errors="*{telefone}">
            </label>
            <input
                    type="text"
                    id="telefone"
                    class="form-control"
                    th:field="*{telefone}"
                    th:errorclass="is-invalid"
                    required
                    placeholder="Digite seu melhor telefone">
          </div>
        </div>
        <div class="row g-3">
          <div class="col-md-6">
            <label for="descricao>">Descrição</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('enderecos[0].descricao')}"
                    th:errors="*{enderecos[0].descricao}">
            </label>
            <input
                    type="text"
                    id="descricao>"
                    name="descricao"
                    class="form-control"
                    th:errorclass="is-invalid"
                    th:field="*{enderecos[0].descricao}"
                    required
                    placeholder="Digite a descrição do endereço">
            <small id="passwordHelpBlock" class="form-text text-muted">
              Exemplo: Casa, Trabalho, Casa da mãe, etc.
            </small>
          </div>
        </div>

        <div class="row g-3">
          <div class="col-md-2">
            <label for="cep">CEP</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('enderecos[0].cep')}"
                    th:errors="*{enderecos[0].cep}">
            </label>
            <input
                    type="text"
                    id="cep"
                    name="cep"
                    class="form-control"
                    onblur="pesquisacep(this.value);"
                    th:errorclass="is-invalid"
                    th:field="*{enderecos[0].cep}"
                    required
                    placeholder="Digite o CEP">
          </div>
        </div>
        <div class="row g-3">
          <div class="col-md-6">
            <label for="rua">Logradouro</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('enderecos[0].logradouro')}"
                    th:errors="*{enderecos[0].logradouro}">
            </label>
            <input
                    type="text"
                    id="rua"
                    class="form-control"
                    th:field="*{enderecos[0].logradouro}"
                    th:errorclass="is-invalid"
                    required
                    placeholder="Digite seu endereço">
          </div>
          <div class="col-md-6">
            <label for="complemento">Complemento</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('enderecos[0].complemento')}"
                    th:errors="*{enderecos[0].complemento}">
            </label>
            <input
                    type="text"
                    id="complemento"
                    class="form-control"
                    th:field="*{enderecos[0].complemento}"
                    th:errorclass="is-invalid"
                    required
                    placeholder="Digite o complemento">
          </div>
        </div>
        <div class="row g-3">
          <div class="col-md-6">
            <label for="bairro">Bairro</label>
            <label
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('enderecos[0].bairro')}"
                    th:errors="*{enderecos[0].bairro}">
            </label>
            <input
                    type="text"
                    id="bairro"
                    class="form-control"
                    th:field="*{enderecos[0].bairro}"
                    th:errorclass="is-invalid"
                    required
                    placeholder="Digite o bairro">
          </div>
          <div class="col-md-4">
            <label for="cidade">Cidade</label>
            <input
                    type="text"
                    class="form-control"
                    id="cidade"
                    th:field="*{enderecos[0].cidade.nome}">
          </div>
          <div class="col-md-2">
            <label for="uf">Estado</label>
            <input
                    type="text"
                    id="uf"
                    class="form-control"
                    th:field="*{enderecos[0].cidade.estado.nome}">
          </div>
        </div>
      </fieldset>
      <input type="submit" class="btn btn-primary mb-2" value="Cadastrar">
    </form>
    <script th:src="@{/script/cep.js}"></script>
  </main>
</body>
</html>